<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>TOCS Wifi Password Manager</title>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <style>
            #main-div {
                text-align: center;
            }

            #header {
                /*width:60%;*/
            }

            #header h4 {
                /*width:60%;*/
                font-size: 14px;
            }

            #pw {
                width: 100%;
                margin-bottom: 10px;
            }

            #req-access-btn {
                width: 100%;
            }

        </style>
    </head>
    <body>
        <div id="contact">

            
            <div class="container">
                <div class="row"></div>

                <div class="col-md-3"></div>
                <div id="main-div" class="col-md-6">
                    <div id="header">
                        <h1>TOCS Wifi Password Manager</h1>
                        <h4>The current password is: </h4>

                        <h1 id="data-placeholder"></h1>

                        <script type="text/template" id="network-template">
                        	<h5><%= network_name %></h5>
                         	<h5><%= pw %></h5>
                        </script>

                        <h4>Update the Wifi Password for 'TOCS - VIP' Network Below:</h4>
                    </div>
                    

                    <form action="/premium_wifi_pw_mgmt" method="put">
                        <fieldset>

                            <!-- <label for="email">Email:</label><br> -->
                            <!-- <input type="email" id="email" name="email" placeholder="Enter your email address" /><br> -->
                            <input type="text" id="pw" name="pw" placeholder="Enter the new Wifi Password" /><br>
                            <!-- <input type="text" id="network_name" name="network_name" placeholder="TOCS - API" /><br> -->

                            <input id="req-access-btn" type="submit" value="Update Wifi Password" />

                        </fieldset>
                    </form>
                    
                    <h6>Rememebr to update the password in the Unifi Controller Dashboard!!</h6>
                    <p>
                    	Here is a
                    	<a href="UNIFI.XXX">direct link to update the password</a>
                    	to for 'TOCS-VIP' Network
                    	<br>
                    	Remember that you cannot be on any of the TOCS Wifi Networks to acces the controller (you cannot acces the controller from "itself").
                    </p>

                    
                </div>

                <div class="col-md-3"></div>
                
            </div>


        </div>

        

        <!-- //////////////////////////////////////////////////////////////////////////////////// -->
        <!-- <script src="jquery-3.3.1.min.js"></script> -->
        <!-- <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script> -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
        <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script> -->

        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

        <!-- Latest compiled JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


        <!-- <script type="text/javascript" src="scripts/wifi.js"></script> -->
        <script>
        	$(function() {

        		var testController = {

        		 testTemplate: _.template($('#network-template').html()),
        		 

        			render: function (data) {
        			 var $testHtml = $(testController.testTemplate(data));
        			 console.log("Logging $testHTML: " + $testHtml)
        		 	$('#data-placeholder').append($testHtml);
        			},

        		//setup view on home page
        		 all: function () {
        		   $.ajax ({
        		     type: 'GET',
        		     url: '/premium_wifi/current_password',
        		     success: function (data) {
        		     	let testObj = data;
        		      console.log(testObj);
        		       // _.each(data, function(testObj) {
        		         // if(testObj.network_name){//Smooth "IF" statement right here
        		         testController.render(testObj);
        		       // }
        		       // });

        		     }
        		   })
        		   console.log("refreshed")
        		 },

        		setupView: function() {
        			testController.all();
        		}
        		 
        	}; //end Test Controller
        	testController.setupView();

        });
        </script>


        <!-- //////////////////////////////////////////////////////////////////////////////////// -->
    </body>
</html>